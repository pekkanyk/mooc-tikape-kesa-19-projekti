2019-06-08 14:35:24 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Table "HUONE" already exists; SQL statement:
CREATE TABLE Huone (id SERIAL, tyyppi VARCHAR(32), numero INTEGER, hinta INTEGER, PRIMARY KEY (id)); [42101-197]
2019-06-08 14:59:39 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE VARAUS (ID SERIAL, ASIAKAS_ID INTEGER, ALKU DATE, LOPPU DATE, PRIMARY KEY (ID) FOREIGN[*] KEY (ASIAKAS_ID) REFERENCES ASIAKAS(ID)); "; expected "INDEX, ,, )"; SQL statement:
CREATE TABLE Varaus (id SERIAL, asiakas_id INTEGER, alku DATE, loppu DATE, PRIMARY KEY (id) FOREIGN KEY (asiakas_id) REFERENCES Asiakas(id)); [42001-197]
2019-06-10 09:31:09 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "name" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3148)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getString(JdbcResultSet.java:310)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getString(HikariProxyResultSet.java)
	at varausjarjestelma.AsiakasDao.lambda$list$2(AsiakasDao.java:71)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:440)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at varausjarjestelma.AsiakasDao.list(AsiakasDao.java:69)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:335)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:64)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-10 21:17:13 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMEROFROM HUONE[*] LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = 'Basic' "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numeroFROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = 'Basic' [42000-197]
2019-06-10 21:31:57 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ANY [*]"; expected "("; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ANY [42001-197]
2019-06-10 21:32:47 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = (*[*]) "; expected "), NOT, EXISTS, INTERSECTS, SELECT, FROM, WITH"; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = (*) [42001-197]
2019-06-10 21:33:58 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = *[*]; "; expected "ALL, ANY, SOME, SELECT, FROM, WITH"; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = *; [42001-197]
2019-06-10 21:35:21 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Subquery is not a single column query; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ALL (SELECT * FROM Huone); [90052-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.get(DbException.java:144)
	at org.h2.expression.ConditionInSelect.optimize(ConditionInSelect.java:118)
	at org.h2.command.dml.Select.prepare(Select.java:861)
	at org.h2.command.Parser.prepareCommand(Parser.java:283)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:78)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:34)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:26)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:345)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-10 21:38:28 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 21:40:03 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 21:41:26 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 21:43:58 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 22:04:09 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 22:05:40 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = 'Basic' ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = 'Basic' (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 22:13:05 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS ID, HUONE.TYYPPI AS TYYPPI, HUONE.HINTA AS HINTA, HUONE.NUMERO AS NUMERO FROM HUONE LEFT JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID LEFT JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.ID WHERE HUONE.TYYPPI = ? ([*]SELECT TYYPPI FROM HUONE); "; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE Huone.tyyppi = ? (SELECT tyyppi FROM Huone); [42000-197]
2019-06-10 22:21:11 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:26)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:345)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 47 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 41 more
2019-06-10 22:22:05 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:26)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:345)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 47 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 41 more
2019-06-10 22:22:51 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:26)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:345)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 47 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 41 more
2019-06-10 22:25:24 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at varausjarjestelma.HuoneDao.list(HuoneDao.java:46)
	at varausjarjestelma.Tekstikayttoliittyma.listaaHuoneet(Tekstikayttoliittyma.java:94)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:53)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 45 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 39 more
2019-06-11 10:06:02 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:78)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:346)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 46 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 40 more
2019-06-11 10:06:27 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "HUONE.ID" must be in the GROUP BY list; SQL statement:
SELECT Huone.id AS id, Huone.tyyppi AS tyyppi, Huone.hinta AS hinta, Huone.numero AS numero FROM Huone LEFT JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id LEFT JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE NOT EXISTS (SELECT * FROM Varaus WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?) HAVING Hinta <= ?ORDER BY Huone.hinta DESC [90016-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.updateAggregate(ExpressionColumn.java:172)
	at org.h2.expression.Alias.updateAggregate(Alias.java:87)
	at org.h2.command.dml.Select.queryGroup(Select.java:350)
	at org.h2.command.dml.Select.queryWithoutCache(Select.java:628)
	at org.h2.command.dml.Query.queryWithoutCacheLazyCheck(Query.java:114)
	at org.h2.command.dml.Query.query(Query.java:371)
	at org.h2.command.dml.Query.query(Query.java:333)
	at org.h2.command.CommandContainer.query(CommandContainer.java:114)
	at org.h2.command.Command.executeQuery(Command.java:202)
	at org.h2.jdbc.JdbcPreparedStatement.executeQuery(JdbcPreparedStatement.java:114)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:678)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:78)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:346)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-11 13:32:17 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "YHTEISHINTA" not found; SQL statement:
INSERT INTO Varaus (asiakas_id, alku, loppu, yhteishinta) VALUES (?,?,?,?); [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.table.Table.getColumn(Table.java:682)
	at org.h2.command.Parser.parseColumn(Parser.java:936)
	at org.h2.command.Parser.parseColumnList(Parser.java:920)
	at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1258)
	at org.h2.command.Parser.parseInsert(Parser.java:1222)
	at org.h2.command.Parser.parsePrepared(Parser.java:431)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1166)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:318)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at varausjarjestelma.VarausDao.lambda$create$0(VarausDao.java:37)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:893)
	at varausjarjestelma.VarausDao.create(VarausDao.java:36)
	at varausjarjestelma.Tekstikayttoliittyma.lisaaVaraus(Tekstikayttoliittyma.java:211)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:61)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-11 13:34:30 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Attempt to define a second primary key; SQL statement:
CREATE TABLE Varaus (id SERIAL, asiakas_id INTEGER, alku TIMESTAMP, loppu TIMESTAMP, yhteishinta INTEGER PRIMARY KEY (id), FOREIGN KEY (asiakas_id) REFERENCES Asiakas(id)); [90017-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.get(DbException.java:144)
	at org.h2.command.ddl.CommandWithColumns.setPrimaryKeyColumns(CommandWithColumns.java:145)
	at org.h2.command.ddl.CommandWithColumns.addConstraintCommand(CommandWithColumns.java:53)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:6694)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6570)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:373)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:69)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-11 13:36:17 jdbc[13]: exception
org.h2.jdbc.JdbcSQLException: Attempt to define a second primary key; SQL statement:
CREATE TABLE Varaus (id SERIAL, asiakas_id INTEGER, alku TIMESTAMP, loppu TIMESTAMP, yhteishinta INTEGER PRIMARY KEY (id), FOREIGN KEY (asiakas_id) REFERENCES Asiakas(id)); [90017-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.get(DbException.java:144)
	at org.h2.command.ddl.CommandWithColumns.setPrimaryKeyColumns(CommandWithColumns.java:145)
	at org.h2.command.ddl.CommandWithColumns.addConstraintCommand(CommandWithColumns.java:53)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:6694)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6570)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:373)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:69)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-11 13:37:05 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE VARAUS (ID SERIAL, ASIAKAS_ID INTEGER, ALKU TIMESTAMP, LOPPU TIMESTAMP, YHTEISHINTA INTEGER FOREIGN[*] KEY (ASIAKAS_ID) REFERENCES ASIAKAS(ID)); "; expected "(, FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE Varaus (id SERIAL, asiakas_id INTEGER, alku TIMESTAMP, loppu TIMESTAMP, yhteishinta INTEGER FOREIGN KEY (asiakas_id) REFERENCES Asiakas(id)); [42001-197]
2019-06-11 14:04:11 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "VARUSTE" not found; SQL statement:
INSERT INTO Lisavaruste (varaus_id, varuste) VALUES (?, ?) [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.table.Table.getColumn(Table.java:682)
	at org.h2.command.Parser.parseColumn(Parser.java:936)
	at org.h2.command.Parser.parseColumnList(Parser.java:920)
	at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1258)
	at org.h2.command.Parser.parseInsert(Parser.java:1222)
	at org.h2.command.Parser.parsePrepared(Parser.java:431)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:862)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:917)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:927)
	at varausjarjestelma.LisavarusteDao.create(LisavarusteDao.java:25)
	at varausjarjestelma.Tekstikayttoliittyma.lisaaVaraus(Tekstikayttoliittyma.java:221)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:62)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-11 21:25:21 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at varausjarjestelma.VarausDao.list(VarausDao.java:63)
	at varausjarjestelma.Tekstikayttoliittyma.listaaVaraukset(Tekstikayttoliittyma.java:242)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:65)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 44 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 38 more
2019-06-11 21:25:46 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Table "HUONMEVARAUS" not found; SQL statement:
SELECT * FROM HuonmeVaraus [42102-197]
2019-06-11 22:01:23 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:41)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:32)
	at varausjarjestelma.Tekstikayttoliittyma.haeHuoneita(Tekstikayttoliittyma.java:124)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:61)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 47 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 41 more
2019-06-12 09:23:34 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "NIMI" must be in the GROUP BY list; SQL statement:
SELECT nimi, email, phone, SUM(yhteishinta) AS summa FROM Asiakas JOIN Varaus ON Varaus.asiakas_id = Asiakas.id ORDER BY summa DESC ; [90016-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.updateAggregate(ExpressionColumn.java:172)
	at org.h2.command.dml.Select.queryGroup(Select.java:350)
	at org.h2.command.dml.Select.queryWithoutCache(Select.java:628)
	at org.h2.command.dml.Query.queryWithoutCacheLazyCheck(Query.java:114)
	at org.h2.command.dml.Query.query(Query.java:371)
	at org.h2.command.dml.Query.query(Query.java:333)
	at org.h2.command.CommandContainer.query(CommandContainer.java:114)
	at org.h2.command.Command.executeQuery(Command.java:202)
	at org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:85)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at varausjarjestelma.HakumoottoriDao.tilastoiAsiakkaat(HakumoottoriDao.java:117)
	at varausjarjestelma.Tekstikayttoliittyma.parhaatAsiakkaat(Tekstikayttoliittyma.java:339)
	at varausjarjestelma.Tekstikayttoliittyma.tilastoja(Tekstikayttoliittyma.java:320)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-12 12:28:01 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT COUNT(*) AS LKM FROM HUONE WHERE NOT EXISTS (SELECT HUONE.ID FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID GROUP BY HUONE.ID WHERE[*] VARAUS.ALKU BETWEEN ? AND ? OR VARAUS.LOPPU BETWEEN ? AND ? );  "; expected "(, ., [, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, ,, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
SELECT count(*) AS lkm FROM Huone WHERE NOT EXISTS (SELECT Huone.id FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id GROUP BY Huone.id WHERE Varaus.alku BETWEEN ? AND ? OR Varaus.loppu BETWEEN ? AND ? );  [42001-197]
2019-06-12 12:32:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT COUNT(HUONE.ID) AS LKM FROM HUONE WHERE NOT EXISTS (SELECT HUONE.ID FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID GROUP BY HUONE.ID WHERE[*] VARAUS.ALKU BETWEEN ? AND ? OR VARAUS.LOPPU BETWEEN ? AND ? ;) AND HUONE.ID = ?; "; expected "(, ., [, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, ,, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
SELECT count(Huone.id) AS lkm FROM Huone WHERE NOT EXISTS (SELECT Huone.id FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id GROUP BY Huone.id WHERE Varaus.alku BETWEEN ? AND ? OR Varaus.loppu BETWEEN ? AND ? ;) AND Huone.id = ?; [42001-197]
2019-06-12 12:33:48 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT COUNT(HUONE.ID) AS LKM FROM HUONE WHERE NOT EXISTS (SELECT HUONE.ID FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID GROUP BY HUONE.ID WHERE[*] VARAUS.ALKU BETWEEN ? AND ? OR VARAUS.LOPPU BETWEEN ? AND ? ;) GROUP BY HUONE.ID HAVING HUONE.ID = ?; "; expected "(, ., [, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, ,, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
SELECT count(Huone.id) AS lkm FROM Huone WHERE NOT EXISTS (SELECT Huone.id FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id GROUP BY Huone.id WHERE Varaus.alku BETWEEN ? AND ? OR Varaus.loppu BETWEEN ? AND ? ;) GROUP BY Huone.id HAVING Huone.id = ?; [42001-197]
2019-06-12 12:34:56 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT COUNT(*) AS LKM FROM HUONE WHERE NOT EXISTS (SELECT HUONE.ID FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID GROUP BY HUONE.ID WHERE[*] VARAUS.ALKU BETWEEN ? AND ? OR VARAUS.LOPPU BETWEEN ? AND ? ;) GROUP BY HUONE.ID HAVING HUONE.ID = ?; "; expected "(, ., [, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, ,, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
SELECT count(*) AS lkm FROM Huone WHERE NOT EXISTS (SELECT Huone.id FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id GROUP BY Huone.id WHERE Varaus.alku BETWEEN ? AND ? OR Varaus.loppu BETWEEN ? AND ? ;) GROUP BY Huone.id HAVING Huone.id = ?; [42001-197]
2019-06-12 12:37:55 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT COUNT(*) AS LKM FROM HUONE WHERE HUONE.ID NOT EXISTS[*] (SELECT HUONE.ID FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID = HUONE.ID GROUP BY HUONE.ID WHERE VARAUS.ALKU BETWEEN ? AND ? OR VARAUS.LOPPU BETWEEN ? AND ? ;) GROUP BY HUONE.ID HAVING HUONE.ID = ?; "; SQL statement:
SELECT count(*) AS lkm FROM Huone WHERE Huone.id NOT EXISTS (SELECT Huone.id FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id = Huone.id GROUP BY Huone.id WHERE Varaus.alku BETWEEN ? AND ? OR Varaus.loppu BETWEEN ? AND ? ;) GROUP BY Huone.id HAVING Huone.id = ?; [42000-197]
2019-06-12 13:51:12 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "Huone.id" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3174)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getString(JdbcResultSet.java:310)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getString(HikariProxyResultSet.java)
	at varausjarjestelma.HakumoottoriDao.lambda$onkoVapaa$3(HakumoottoriDao.java:158)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:679)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.onkoVapaa(HakumoottoriDao.java:155)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:434)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-12 13:52:07 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "Huone.id" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3174)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getString(JdbcResultSet.java:310)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getString(HikariProxyResultSet.java)
	at varausjarjestelma.HakumoottoriDao.lambda$onkoVapaa$3(HakumoottoriDao.java:158)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:679)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.onkoVapaa(HakumoottoriDao.java:155)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:434)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-12 13:52:59 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "Huone.id" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3174)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getString(JdbcResultSet.java:310)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getString(HikariProxyResultSet.java)
	at varausjarjestelma.HakumoottoriDao.lambda$onkoVapaa$3(HakumoottoriDao.java:158)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:679)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.onkoVapaa(HakumoottoriDao.java:155)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:434)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-12 13:59:48 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.get(DbException.java:168)
	at org.h2.message.DbException.convert(DbException.java:307)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:95)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2506)
	at org.h2.mvstore.MVStore.panic(MVStore.java:383)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:364)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2934)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:155)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:100)
	at org.h2.engine.Database.getPageStore(Database.java:2538)
	at org.h2.engine.Database.open(Database.java:709)
	at org.h2.engine.Database.openDatabase(Database.java:286)
	at org.h2.engine.Database.<init>(Database.java:280)
	at org.h2.engine.Engine.openSession(Engine.java:66)
	at org.h2.engine.Engine.openSession(Engine.java:179)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:157)
	at org.h2.engine.Engine.createSession(Engine.java:140)
	at org.h2.engine.Engine.createSession(Engine.java:28)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:351)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:103)
	at org.h2.Driver.connect(Driver.java:69)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:136)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:369)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:198)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:467)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:541)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:612)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.onkoVapaa(HakumoottoriDao.java:156)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:434)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
Caused by: org.h2.jdbc.JdbcSQLException: General error: "java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]" [50000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	... 46 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:C:/Users/Pekka/Dropbox/NetBeans/mooc-tikape-kesa-19-projekti/tikape_Varausjarjestelma/hotelliketju.mv.db [1.4.197/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:870)
	at org.h2.mvstore.FileStore.open(FileStore.java:173)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:350)
	... 40 more
2019-06-12 15:06:24 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT id AS lkm FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id= Huone.id JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.idWHERE huone_id = ? AND NOT EXISTS (SELECT huone_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ? AND huone_id = ?); [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.expression.Alias.mapColumns(Alias.java:46)
	at org.h2.command.dml.Select.mapColumns(Select.java:1237)
	at org.h2.command.dml.Select.init(Select.java:826)
	at org.h2.command.Parser.parseSelect(Parser.java:1925)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.onkoVapaa(HakumoottoriDao.java:156)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:434)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-12 15:07:06 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.ID AS LKM FROM HUONE JOIN HUONEVARAUS ON HUONEVARAUS.HUONE_ID= HUONE.ID JOIN VARAUS ON HUONEVARAUS.VARAUS_ID = VARAUS.IDWHERE HUONE_ID[*] = ? AND NOT EXISTS (SELECT HUONE_ID FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID WHERE ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ? AND HUONE_ID = ?); "; SQL statement:
SELECT Huone.id AS lkm FROM Huone JOIN HuoneVaraus ON HuoneVaraus.huone_id= Huone.id JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.idWHERE huone_id = ? AND NOT EXISTS (SELECT huone_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ? AND huone_id = ?); [42000-197]
2019-06-16 21:19:07 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT DATEDIFF(DAY, ALKU, LOPPU) AS PAIVIA FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID WHERE HUONE_ID = ? AND ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? [*]"; expected "[, ::, *, /, %, +, -, ||, ~, !~, AND"; SQL statement:
SELECT DATEDIFF(day, alku, loppu) AS paivia FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE huone_id = ? AND alku BETWEEN ? AND ? OR loppu BETWEEN ? [42001-197]
2019-06-16 22:09:04 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "tyyppt" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3174)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getString(JdbcResultSet.java:310)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getString(HikariProxyResultSet.java)
	at varausjarjestelma.HakumoottoriDao.lambda$paiviaVarattuHuoneTyypeittain$5(HakumoottoriDao.java:198)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:679)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.paiviaVarattuHuoneTyypeittain(HakumoottoriDao.java:195)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:440)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-16 22:14:35 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.TYYPPI, SUM (DATEDIFF(DAY, ALKU, LOPPU)) AS PAIVIA, COUNT HUONE.[*]TYYPPI AS LKM FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID JOIN HUONE ON HUONEVARAUS.HUONE_ID = HUONE.ID WHERE ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ? GROUP BY HUONE.TYYPPI; "; SQL statement:
SELECT Huone.tyyppi, SUM (DATEDIFF(day, alku, loppu)) AS paivia, COUNT Huone.tyyppi AS lkm FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id JOIN Huone ON HuoneVaraus.huone_id = Huone.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ? GROUP BY Huone.tyyppi; [42000-197]
2019-06-16 22:20:38 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT HUONE.TYYPPI, SUM (DATEDIFF(DAY, ALKU, LOPPU)) AS PAIVIA, FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID JOIN HUONE ON HUONEVARAUS.HUONE_ID = HUONE.ID WHERE[*] ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ? GROUP BY HUONE.TYYPPI; "; expected "(, ., [, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, RIGHT, LEFT, FULL, INNER, JOIN, CROSS, NATURAL, ,, SELECT"; SQL statement:
SELECT Huone.tyyppi, SUM (DATEDIFF(day, alku, loppu)) AS paivia, FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id JOIN Huone ON HuoneVaraus.huone_id = Huone.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ? GROUP BY Huone.tyyppi; [42001-197]
2019-06-16 22:28:55 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "COUNT" not found; SQL statement:
SELECT tyyppi, COUNT tyyppi FROM Huone GROUP BY tyyppi; [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:150)
	at org.h2.expression.Alias.optimize(Alias.java:51)
	at org.h2.command.dml.Select.prepare(Select.java:858)
	at org.h2.command.Parser.prepareCommand(Parser.java:283)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:78)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at varausjarjestelma.HuoneDao.lukumaarat(HuoneDao.java:78)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:441)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-16 22:30:41 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Column "lkm" not found [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.jdbc.JdbcResultSet.getColumnIndex(JdbcResultSet.java:3174)
	at org.h2.jdbc.JdbcResultSet.get(JdbcResultSet.java:3247)
	at org.h2.jdbc.JdbcResultSet.getInt(JdbcResultSet.java:346)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getInt(HikariProxyResultSet.java)
	at varausjarjestelma.HuoneDao.lambda$lukumaarat$2(HuoneDao.java:81)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:440)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)
	at varausjarjestelma.HuoneDao.lukumaarat(HuoneDao.java:78)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:441)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:67)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-16 23:39:26 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT id AS col FROM Huone JOIN Huone ON HuoneVaraus.huone.id = Huone.id JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE NOT EXISTS (SELECT huone_id AS col FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE (alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?) ); [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.expression.Comparison.mapColumns(Comparison.java:512)
	at org.h2.table.TableFilter$MapColumnsVisitor.accept(TableFilter.java:1228)
	at org.h2.table.TableFilter.visit(TableFilter.java:1182)
	at org.h2.table.TableFilter.addJoin(TableFilter.java:669)
	at org.h2.command.Parser.addJoin(Parser.java:1857)
	at org.h2.command.Parser.readJoin(Parser.java:1793)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:445)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:69)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-16 23:40:07 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT Huone.id AS col FROM Huone JOIN Huone ON HuoneVaraus.huone.id = Huone.id JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE NOT EXISTS (SELECT huone_id AS col FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE (alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?) ); [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.expression.Comparison.mapColumns(Comparison.java:512)
	at org.h2.table.TableFilter$MapColumnsVisitor.accept(TableFilter.java:1228)
	at org.h2.table.TableFilter.visit(TableFilter.java:1182)
	at org.h2.table.TableFilter.addJoin(TableFilter.java:669)
	at org.h2.command.Parser.addJoin(Parser.java:1857)
	at org.h2.command.Parser.readJoin(Parser.java:1793)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:445)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:69)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-16 23:41:03 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT Huone.id AS col FROM Huone JOIN Huone ON HuoneVaraus.huone_id = Huone.id JOIN Varaus ON HuoneVaraus.varaus_id = Varaus.id WHERE NOT EXISTS (SELECT huone_id AS col FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE (alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?) ); [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.expression.Comparison.mapColumns(Comparison.java:512)
	at org.h2.table.TableFilter$MapColumnsVisitor.accept(TableFilter.java:1228)
	at org.h2.table.TableFilter.visit(TableFilter.java:1182)
	at org.h2.table.TableFilter.addJoin(TableFilter.java:669)
	at org.h2.command.Parser.addJoin(Parser.java:1857)
	at org.h2.command.Parser.readJoin(Parser.java:1793)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:35)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:445)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:69)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-17 08:50:25 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT ID FROM HUONE WHERE NOT EXISTS (SELECT HUONE_ID FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID WHERE ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ?;[*]); "; expected "[, ::, *, /, %, +, -, ||, ~, !~, NOT, LIKE, ILIKE, REGEXP, IS, IN, BETWEEN, AND, OR, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
SELECT id FROM Huone WHERE NOT EXISTS (SELECT huone_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?;); [42001-197]
2019-06-17 08:55:27 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT ID AS HUONEEN_ID FROM HUONE WHERE HUONEEN_ID NOT EXISTS[*] (SELECT HUONE_ID AS HUONEEN_ID FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID WHERE ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ?); "; SQL statement:
SELECT id AS huoneen_id FROM Huone WHERE huoneen_id NOT EXISTS (SELECT huone_id AS huoneen_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?); [42000-197]
2019-06-17 08:59:16 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "SELECT ID AS HUONEEN_ID FROM HUONE WHERE ID NOT EXISTS[*] (SELECT HUONE_ID AS HUONEEN_ID FROM HUONEVARAUS JOIN VARAUS ON HUONEVARAUS.VARAUS_ID= VARAUS.ID WHERE ALKU BETWEEN ? AND ? OR LOPPU BETWEEN ? AND ?); "; SQL statement:
SELECT id AS huoneen_id FROM Huone WHERE id NOT EXISTS (SELECT huone_id AS huoneen_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?); [42000-197]
2019-06-17 09:04:05 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Function "IN" not found; SQL statement:
SELECT id AS huoneen_id FROM Huone WHERE NOT IN (SELECT huone_id AS huoneen_id FROM HuoneVaraus JOIN Varaus ON HuoneVaraus.varaus_id= Varaus.id WHERE (alku BETWEEN ? AND ? OR loppu BETWEEN ? AND ?)); [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readCondition(Parser.java:2351)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2291)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:82)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:436)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:68)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-17 09:23:34 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Function "IN" not found; SQL statement:
SELECT id AS huoneen_id FROM Huone WHERE NOT IN (+innerSQL+); [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readCondition(Parser.java:2351)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2291)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:304)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:311)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1557)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:669)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:700)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:718)
	at varausjarjestelma.HakumoottoriDao.vapaatHuoneet(HakumoottoriDao.java:82)
	at varausjarjestelma.Tekstikayttoliittyma.testikoodi(Tekstikayttoliittyma.java:436)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:68)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-17 15:17:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT id, nimi, email, phone, SUM(yhteishinta) AS summa FROM Asiakas JOIN Varaus ON Varaus.asiakas_id = Asiakas.id GROUP BY id ORDER BY summa DESC LIMIT 10; [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.command.dml.Select.mapColumns(Select.java:1237)
	at org.h2.command.dml.Select.init(Select.java:826)
	at org.h2.command.Parser.parseSelect(Parser.java:1925)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:78)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at varausjarjestelma.HakumoottoriDao.tilastoiAsiakkaat(HakumoottoriDao.java:50)
	at varausjarjestelma.Tekstikayttoliittyma.parhaatAsiakkaat(Tekstikayttoliittyma.java:297)
	at varausjarjestelma.Tekstikayttoliittyma.tilastoja(Tekstikayttoliittyma.java:278)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:64)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
2019-06-17 15:17:37 jdbc[3]: exception
org.h2.jdbc.JdbcSQLException: Ambiguous column name "ID"; SQL statement:
SELECT id, nimi, email, phone, SUM(yhteishinta) AS summa FROM Asiakas JOIN Varaus ON Varaus.asiakas_id = Asiakas.id GROUP BY Asiakas.id ORDER BY summa DESC LIMIT 10; [90059-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.expression.ExpressionColumn.mapColumn(ExpressionColumn.java:127)
	at org.h2.expression.ExpressionColumn.mapColumns(ExpressionColumn.java:97)
	at org.h2.command.dml.Select.mapColumns(Select.java:1237)
	at org.h2.command.dml.Select.init(Select.java:826)
	at org.h2.command.Parser.parseSelect(Parser.java:1925)
	at org.h2.command.Parser.parsePrepared(Parser.java:463)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeQuery(JdbcStatement.java:78)
	at com.zaxxer.hikari.pool.ProxyStatement.executeQuery(ProxyStatement.java:111)
	at com.zaxxer.hikari.pool.HikariProxyStatement.executeQuery(HikariProxyStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate$1QueryStatementCallback.doInStatement(JdbcTemplate.java:439)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)
	at varausjarjestelma.HakumoottoriDao.tilastoiAsiakkaat(HakumoottoriDao.java:50)
	at varausjarjestelma.Tekstikayttoliittyma.parhaatAsiakkaat(Tekstikayttoliittyma.java:297)
	at varausjarjestelma.Tekstikayttoliittyma.tilastoja(Tekstikayttoliittyma.java:278)
	at varausjarjestelma.Tekstikayttoliittyma.kaynnista(Tekstikayttoliittyma.java:64)
	at varausjarjestelma.VarausjarjestelmaSovellus.run(VarausjarjestelmaSovellus.java:24)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at varausjarjestelma.VarausjarjestelmaSovellus.main(VarausjarjestelmaSovellus.java:15)
